# Take Away
- Try to spray password in as many ways as possible. Sometimes, it is not that the password is incorrect but application is denying access of the user. Especially in the case of SSH.
# Exploitation
- `.git` is found under the web root. Using `wget --no-parent -r http://192.168.217.144/.git/` to retrieve the folder. Then, `git show` will reveal a pair of credential.
	- `stuart`: BreakingBad92![[Pasted image 20240214164820.png]]
- Using the credential to log in as `stuart` through SSH.
# PrivEsc
- `linpeas` will identify that there are a few `zip` files under `/opt/backup`. After downloading, only `sitebackup3.zip` is not corrupted but password-protected.
- Using `zip2john sitebackup3.zip > zip.hash` and then run `john --wordlist=/usr/share/wordlists/rockyou.txt` to crack password as `codeblue`.![[Pasted image 20240214233143.png]]
	- After unzipping the file, one can locate two more potential passwords at `configuration.php`.
		- `Password@1`
		- `Ee24zIK4cDhJHL4H`
		- ![[Pasted image 20240214232702.png]]
- Spraying the passwords found against potential users: `thato`, `carla`, `chloe`. One will identify `chloe`: `Ee24zIK4cDhJHL4H` to be a pair of valid credential.
- Finally, using `su chloe` to switch to user `chloe` and since `chloe` is part of `sudo` group. One can obtain root session with `sudo /bin/bash -i`.
# Note
- Spraying with SSH initially did not identify `chloe`: `Ee24zIK4cDhJHL4H` as a pair of valid credential because, in `/etc/ssh/ssh_config`, `chloe` is explicitly denied access using SSH.