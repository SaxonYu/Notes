# Take Away
- If there is no information, you are probably not enumerating enough. Try to find new ways using `hacktricks` article or blogs to enumerate more information.
# Exploitation
- Running `snmpwalk -c public -v 1 192.168.226.149 NET-SNMP-EXTEND-MIB::nsExtendObjects` will identify that two potential users. One is `john` and the other is `kiero`. Moreover, we can see from the Output that the user `kiero`'s password has been reset.![[Pasted image 20240223000534.png]]
- Running `hydra -l kiero -P /usr/share/wordlists/metasploit/unix_passwords.txt -e nsr ftp://192.168.226.149` will identify `kiero:kiero` as a pair of valid ftp credential.![[Pasted image 20240216190956.png]]
- After logging into the ftp server as `kiero`, one can locate another pair of SSH credential for `john`.
- Run `ssh john@192.168.226.149 -i id_rsa` to log in as `john`.
# PrivEsc
- `linpeas` will identify that target is potentially vulnerable to `DirtyPipe (CVE-2022-0847)`.![[Pasted image 20240216213904.png]]
- Retrieve `dirtypipez.c` and transfer onto the target host. Compile using `gcc-9 dirtypipez.c -o dirtypipez`. In order for the exploit to working, it needs to hijack a `SUID` binary which, in the case here can be `RESET_PASSWD` within `/home/john`. Run `./dirtypipez /home/john/RESET_PASSWD` to receive a root shell.